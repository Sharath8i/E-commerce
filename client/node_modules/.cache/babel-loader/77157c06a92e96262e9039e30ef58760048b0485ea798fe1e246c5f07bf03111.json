{"ast":null,"code":"var _jsxFileName = \"C:\\\\pro\\\\client\\\\src\\\\SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { FaFilter, FaSort, FaTimes, FaStar, FaHeart, FaShoppingCart, FaCheckCircle, FaRupeeSign } from 'react-icons/fa';\nimport SearchBar from './SearchBar';\nimport SidebarFilters from './SidebarFilters';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchResults = ({\n  addToCart,\n  isWishlisted,\n  toggleWishlist,\n  user\n}) => {\n  _s();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filters, setFilters] = useState({});\n  const [pagination, setPagination] = useState({});\n  const [showFilters, setShowFilters] = useState(false);\n  const [sortBy, setSortBy] = useState('relevance');\n  const [currentPage, setCurrentPage] = useState(1);\n  const query = searchParams.get('q') || '';\n  const category = searchParams.get('category') || '';\n  const brand = searchParams.get('brand') || '';\n  const minPrice = searchParams.get('minPrice') || '';\n  const maxPrice = searchParams.get('maxPrice') || '';\n  const gender = searchParams.get('gender') || '';\n  const assured = searchParams.get('assured') || '';\n\n  // Fetch search results\n  const fetchResults = async (page = 1) => {\n    if (!query.trim()) return;\n    setLoading(true);\n    setError('');\n    try {\n      const params = new URLSearchParams({\n        search: query,\n        page: page.toString(),\n        sort: sortBy,\n        limit: '20'\n      });\n      if (category) params.append('category', category);\n      if (brand) params.append('brand', brand);\n      if (minPrice) params.append('minPrice', minPrice);\n      if (maxPrice) params.append('maxPrice', maxPrice);\n      if (gender) params.append('gender', gender);\n      if (assured) params.append('assured', assured);\n      const response = await fetch(`http://localhost:5000/api/products?${params}`);\n      const data = await response.json();\n      if (response.ok) {\n        setResults(data.products || []);\n        setPagination(data.pagination || {});\n      } else {\n        setError(data.message || 'Search failed');\n      }\n    } catch (err) {\n      setError('Failed to fetch search results');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load filters\n  const loadFilters = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/products/search/filters');\n      const data = await response.json();\n      setFilters(data);\n    } catch (err) {\n      console.error('Failed to load filters:', err);\n    }\n  };\n  useEffect(() => {\n    loadFilters();\n  }, []);\n  useEffect(() => {\n    fetchResults(currentPage);\n  }, [query, category, brand, minPrice, maxPrice, gender, assured, sortBy, currentPage]);\n\n  // Handle filter changes\n  const handleFilterChange = (filterType, value) => {\n    const newParams = new URLSearchParams(searchParams);\n    if (value && value !== 'All') {\n      newParams.set(filterType, value);\n    } else {\n      newParams.delete(filterType);\n    }\n    newParams.set('page', '1');\n    setSearchParams(newParams);\n    setCurrentPage(1);\n  };\n\n  // Handle sort change\n  const handleSortChange = sort => {\n    setSortBy(sort);\n    setCurrentPage(1);\n  };\n\n  // Handle page change\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    window.scrollTo(0, 0);\n  };\n\n  // Clear all filters\n  const clearAllFilters = () => {\n    const newParams = new URLSearchParams();\n    newParams.set('q', query);\n    setSearchParams(newParams);\n    setCurrentPage(1);\n  };\n\n  // Product card component\n  const ProductCard = ({\n    product\n  }) => {\n    var _product$images;\n    const discount = product.oldPrice ? Math.round((product.oldPrice - product.price) / product.oldPrice * 100) : 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-card search-result-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-image-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.img || ((_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images[0]),\n          alt: product.name,\n          className: \"product-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"discount-badge\",\n          children: [discount, \"% OFF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 28\n        }, this), product.assured && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"assured-badge\",\n          children: \"Assured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `wishlist-btn ${isWishlisted(product._id) ? 'active' : ''}`,\n          onClick: () => toggleWishlist(product._id),\n          children: /*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"product-name\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-brand\",\n          children: product.brand\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-rating\",\n          children: [/*#__PURE__*/_jsxDEV(FaStar, {\n            className: \"star-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: product.rating || 4.2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rating-count\",\n            children: [\"(\", product.reviewCount || 123, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-price\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"current-price\",\n            children: [\"\\u20B9\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), product.oldPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"old-price\",\n            children: [\"\\u20B9\", product.oldPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-to-cart-btn\",\n          onClick: () => addToCart(product),\n          children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), \" Add to Cart\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Loading skeleton\n  const LoadingSkeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-results-grid\",\n    children: [...Array(8)].map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-card skeleton-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton skeleton-img\",\n        style: {\n          height: 200\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton skeleton-text\",\n        style: {\n          width: '80%',\n          height: 16,\n          marginTop: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton skeleton-text\",\n        style: {\n          width: '60%',\n          height: 14,\n          marginTop: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton skeleton-text\",\n        style: {\n          width: '40%',\n          height: 14,\n          marginTop: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n  if (!query.trim()) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-header\",\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-search-query\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Search for products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Enter a search term to find products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-header\",\n      children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Search Results for \\\"\", query, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [pagination.total || 0, \" products found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"filter-toggle-btn\",\n          onClick: () => setShowFilters(!showFilters),\n          children: [/*#__PURE__*/_jsxDEV(FaFilter, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), \" Filters\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sort-dropdown\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: sortBy,\n            onChange: e => handleSortChange(e.target.value),\n            className: \"sort-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"relevance\",\n              children: \"Relevance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"priceLow\",\n              children: \"Price: Low to High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"priceHigh\",\n              children: \"Price: High to Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rating\",\n              children: \"Customer Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"newest\",\n              children: \"Newest First\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"popularity\",\n              children: \"Popularity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-content\",\n      children: [showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearAllFilters,\n            className: \"clear-filters-btn\",\n            children: \"Clear All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SidebarFilters, {\n          selectedCategory: category,\n          selectedGender: gender,\n          priceRange: [minPrice || 0, maxPrice || 5000],\n          brand: brand,\n          assured: assured === 'true',\n          onCategoryChange: cat => handleFilterChange('category', cat),\n          onGenderChange: gen => handleFilterChange('gender', gen),\n          onPriceChange: range => {\n            handleFilterChange('minPrice', range[0]);\n            handleFilterChange('maxPrice', range[1]);\n          },\n          onBrandChange: br => handleFilterChange('brand', br),\n          onAssuredChange: ass => handleFilterChange('assured', ass ? 'true' : '')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-results-main\",\n        children: loading ? /*#__PURE__*/_jsxDEV(LoadingSkeleton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-error\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this) : results.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No products found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Try adjusting your search terms or filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearAllFilters,\n            className: \"clear-filters-btn\",\n            children: \"Clear All Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-results-grid\",\n            children: results.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), pagination.total > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePageChange(currentPage - 1),\n              disabled: !pagination.hasPrev,\n              className: \"pagination-btn\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this), [...Array(pagination.total)].map((_, index) => {\n              const page = index + 1;\n              if (page === 1 || page === pagination.total || page >= currentPage - 2 && page <= currentPage + 2) {\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePageChange(page),\n                  className: `pagination-btn ${page === currentPage ? 'active' : ''}`,\n                  children: page\n                }, page, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 25\n                }, this);\n              } else if (page === currentPage - 3 || page === currentPage + 3) {\n                return /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pagination-ellipsis\",\n                  children: \"...\"\n                }, page, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 30\n                }, this);\n              }\n              return null;\n            }), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePageChange(currentPage + 1),\n              disabled: !pagination.hasNext,\n              className: \"pagination-btn\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchResults, \"X04x9VdATBDpqnMgolwqXovMEW0=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","FaFilter","FaSort","FaTimes","FaStar","FaHeart","FaShoppingCart","FaCheckCircle","FaRupeeSign","SearchBar","SidebarFilters","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchResults","addToCart","isWishlisted","toggleWishlist","user","_s","searchParams","setSearchParams","navigate","results","setResults","loading","setLoading","error","setError","filters","setFilters","pagination","setPagination","showFilters","setShowFilters","sortBy","setSortBy","currentPage","setCurrentPage","query","get","category","brand","minPrice","maxPrice","gender","assured","fetchResults","page","trim","params","URLSearchParams","search","toString","sort","limit","append","response","fetch","data","json","ok","products","message","err","loadFilters","console","handleFilterChange","filterType","value","newParams","set","delete","handleSortChange","handlePageChange","window","scrollTo","clearAllFilters","ProductCard","product","_product$images","discount","oldPrice","Math","round","price","className","children","src","img","images","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","_id","onClick","rating","reviewCount","LoadingSkeleton","Array","map","_","index","style","height","width","marginTop","total","onChange","e","target","selectedCategory","selectedGender","priceRange","onCategoryChange","cat","onGenderChange","gen","onPriceChange","range","onBrandChange","br","onAssuredChange","ass","length","disabled","hasPrev","hasNext","_c","$RefreshReg$"],"sources":["C:/pro/client/src/SearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { FaFilter, FaSort, FaTimes, FaStar, FaHeart, FaShoppingCart, FaCheckCircle, FaRupeeSign } from 'react-icons/fa';\r\nimport SearchBar from './SearchBar';\r\nimport SidebarFilters from './SidebarFilters';\r\n\r\nconst SearchResults = ({ addToCart, isWishlisted, toggleWishlist, user }) => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [filters, setFilters] = useState({});\r\n  const [pagination, setPagination] = useState({});\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [sortBy, setSortBy] = useState('relevance');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const query = searchParams.get('q') || '';\r\n  const category = searchParams.get('category') || '';\r\n  const brand = searchParams.get('brand') || '';\r\n  const minPrice = searchParams.get('minPrice') || '';\r\n  const maxPrice = searchParams.get('maxPrice') || '';\r\n  const gender = searchParams.get('gender') || '';\r\n  const assured = searchParams.get('assured') || '';\r\n\r\n  // Fetch search results\r\n  const fetchResults = async (page = 1) => {\r\n    if (!query.trim()) return;\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const params = new URLSearchParams({\r\n        search: query,\r\n        page: page.toString(),\r\n        sort: sortBy,\r\n        limit: '20'\r\n      });\r\n\r\n      if (category) params.append('category', category);\r\n      if (brand) params.append('brand', brand);\r\n      if (minPrice) params.append('minPrice', minPrice);\r\n      if (maxPrice) params.append('maxPrice', maxPrice);\r\n      if (gender) params.append('gender', gender);\r\n      if (assured) params.append('assured', assured);\r\n\r\n      const response = await fetch(`http://localhost:5000/api/products?${params}`);\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setResults(data.products || []);\r\n        setPagination(data.pagination || {});\r\n      } else {\r\n        setError(data.message || 'Search failed');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to fetch search results');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load filters\r\n  const loadFilters = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/products/search/filters');\r\n      const data = await response.json();\r\n      setFilters(data);\r\n    } catch (err) {\r\n      console.error('Failed to load filters:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFilters();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchResults(currentPage);\r\n  }, [query, category, brand, minPrice, maxPrice, gender, assured, sortBy, currentPage]);\r\n\r\n  // Handle filter changes\r\n  const handleFilterChange = (filterType, value) => {\r\n    const newParams = new URLSearchParams(searchParams);\r\n    \r\n    if (value && value !== 'All') {\r\n      newParams.set(filterType, value);\r\n    } else {\r\n      newParams.delete(filterType);\r\n    }\r\n    \r\n    newParams.set('page', '1');\r\n    setSearchParams(newParams);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Handle sort change\r\n  const handleSortChange = (sort) => {\r\n    setSortBy(sort);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Handle page change\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // Clear all filters\r\n  const clearAllFilters = () => {\r\n    const newParams = new URLSearchParams();\r\n    newParams.set('q', query);\r\n    setSearchParams(newParams);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Product card component\r\n  const ProductCard = ({ product }) => {\r\n    const discount = product.oldPrice ? Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100) : 0;\r\n    \r\n    return (\r\n      <div className=\"product-card search-result-card\">\r\n        <div className=\"product-image-container\">\r\n          <img src={product.img || product.images?.[0]} alt={product.name} className=\"product-image\" />\r\n          {discount > 0 && <div className=\"discount-badge\">{discount}% OFF</div>}\r\n          {product.assured && <div className=\"assured-badge\">Assured</div>}\r\n          <button\r\n            className={`wishlist-btn ${isWishlisted(product._id) ? 'active' : ''}`}\r\n            onClick={() => toggleWishlist(product._id)}\r\n          >\r\n            <FaHeart />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"product-info\">\r\n          <h3 className=\"product-name\">{product.name}</h3>\r\n          <div className=\"product-brand\">{product.brand}</div>\r\n          \r\n          <div className=\"product-rating\">\r\n            <FaStar className=\"star-icon\" />\r\n            <span>{product.rating || 4.2}</span>\r\n            <span className=\"rating-count\">({product.reviewCount || 123})</span>\r\n          </div>\r\n          \r\n          <div className=\"product-price\">\r\n            <span className=\"current-price\">₹{product.price}</span>\r\n            {product.oldPrice && (\r\n              <span className=\"old-price\">₹{product.oldPrice}</span>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            className=\"add-to-cart-btn\"\r\n            onClick={() => addToCart(product)}\r\n          >\r\n            <FaShoppingCart /> Add to Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Loading skeleton\r\n  const LoadingSkeleton = () => (\r\n    <div className=\"search-results-grid\">\r\n      {[...Array(8)].map((_, index) => (\r\n        <div key={index} className=\"product-card skeleton-card\">\r\n          <div className=\"skeleton skeleton-img\" style={{ height: 200 }} />\r\n          <div className=\"skeleton skeleton-text\" style={{ width: '80%', height: 16, marginTop: 12 }} />\r\n          <div className=\"skeleton skeleton-text\" style={{ width: '60%', height: 14, marginTop: 8 }} />\r\n          <div className=\"skeleton skeleton-text\" style={{ width: '40%', height: 14, marginTop: 8 }} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  if (!query.trim()) {\r\n    return (\r\n      <div className=\"search-page\">\r\n        <div className=\"search-header\">\r\n          <SearchBar />\r\n        </div>\r\n        <div className=\"no-search-query\">\r\n          <h2>Search for products</h2>\r\n          <p>Enter a search term to find products</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-page\">\r\n      {/* Search Header */}\r\n      <div className=\"search-header\">\r\n        <SearchBar />\r\n      </div>\r\n\r\n      {/* Search Results Header */}\r\n      <div className=\"search-results-header\">\r\n        <div className=\"search-info\">\r\n          <h2>Search Results for \"{query}\"</h2>\r\n          <p>{pagination.total || 0} products found</p>\r\n        </div>\r\n        \r\n        <div className=\"search-controls\">\r\n          <button\r\n            className=\"filter-toggle-btn\"\r\n            onClick={() => setShowFilters(!showFilters)}\r\n          >\r\n            <FaFilter /> Filters\r\n          </button>\r\n          \r\n          <div className=\"sort-dropdown\">\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => handleSortChange(e.target.value)}\r\n              className=\"sort-select\"\r\n            >\r\n              <option value=\"relevance\">Relevance</option>\r\n              <option value=\"priceLow\">Price: Low to High</option>\r\n              <option value=\"priceHigh\">Price: High to Low</option>\r\n              <option value=\"rating\">Customer Rating</option>\r\n              <option value=\"newest\">Newest First</option>\r\n              <option value=\"popularity\">Popularity</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"search-content\">\r\n        {/* Filters Sidebar */}\r\n        {showFilters && (\r\n          <div className=\"filters-sidebar\">\r\n            <div className=\"filters-header\">\r\n              <h3>Filters</h3>\r\n              <button onClick={clearAllFilters} className=\"clear-filters-btn\">\r\n                Clear All\r\n              </button>\r\n            </div>\r\n            \r\n            <SidebarFilters\r\n              selectedCategory={category}\r\n              selectedGender={gender}\r\n              priceRange={[minPrice || 0, maxPrice || 5000]}\r\n              brand={brand}\r\n              assured={assured === 'true'}\r\n              onCategoryChange={(cat) => handleFilterChange('category', cat)}\r\n              onGenderChange={(gen) => handleFilterChange('gender', gen)}\r\n              onPriceChange={(range) => {\r\n                handleFilterChange('minPrice', range[0]);\r\n                handleFilterChange('maxPrice', range[1]);\r\n              }}\r\n              onBrandChange={(br) => handleFilterChange('brand', br)}\r\n              onAssuredChange={(ass) => handleFilterChange('assured', ass ? 'true' : '')}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Search Results */}\r\n        <div className=\"search-results-main\">\r\n          {loading ? (\r\n            <LoadingSkeleton />\r\n          ) : error ? (\r\n            <div className=\"search-error\">\r\n              <h3>Search Error</h3>\r\n              <p>{error}</p>\r\n            </div>\r\n          ) : results.length === 0 ? (\r\n            <div className=\"no-results\">\r\n              <h3>No products found</h3>\r\n              <p>Try adjusting your search terms or filters</p>\r\n              <button onClick={clearAllFilters} className=\"clear-filters-btn\">\r\n                Clear All Filters\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"search-results-grid\">\r\n                {results.map(product => (\r\n                  <ProductCard key={product._id} product={product} />\r\n                ))}\r\n              </div>\r\n\r\n              {/* Pagination */}\r\n              {pagination.total > 1 && (\r\n                <div className=\"pagination\">\r\n                  <button\r\n                    onClick={() => handlePageChange(currentPage - 1)}\r\n                    disabled={!pagination.hasPrev}\r\n                    className=\"pagination-btn\"\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                  \r\n                  {[...Array(pagination.total)].map((_, index) => {\r\n                    const page = index + 1;\r\n                    if (\r\n                      page === 1 ||\r\n                      page === pagination.total ||\r\n                      (page >= currentPage - 2 && page <= currentPage + 2)\r\n                    ) {\r\n                      return (\r\n                        <button\r\n                          key={page}\r\n                          onClick={() => handlePageChange(page)}\r\n                          className={`pagination-btn ${page === currentPage ? 'active' : ''}`}\r\n                        >\r\n                          {page}\r\n                        </button>\r\n                      );\r\n                    } else if (\r\n                      page === currentPage - 3 ||\r\n                      page === currentPage + 3\r\n                    ) {\r\n                      return <span key={page} className=\"pagination-ellipsis\">...</span>;\r\n                    }\r\n                    return null;\r\n                  })}\r\n                  \r\n                  <button\r\n                    onClick={() => handlePageChange(currentPage + 1)}\r\n                    disabled={!pagination.hasNext}\r\n                    className=\"pagination-btn\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}